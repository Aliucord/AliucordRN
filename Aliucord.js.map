{"version":3,"file":"Aliucord.js.map","sources":["src/utils/Logger.ts","src/metro/index.ts","src/api/Settings.ts","src/api/Commands.ts","src/utils/patcher.ts","src/api/Patcher.ts","src/entities/Plugin.ts","src/core-plugins/CommandHandler.ts","aliucord-version","src/utils/DebugInfo.ts","src/utils/misc.ts","src/core-plugins/CoreCommands.ts","src/core-plugins/NoTrack.ts","src/core-plugins/index.ts","src/native/index.ts","src/utils/constants.ts","src/utils/debug/DebugWS.ts","src/utils/getAssetId.ts","src/ui/AliucordPage.tsx","src/api/PluginManager.ts","src/ui/PluginsPage.tsx","src/ui/UpdaterPage.tsx","src/ui/patchSettings.tsx","src/Aliucord.tsx","src/utils/findInReactTree.ts","src/index.ts"],"sourcesContent":["import { getByProps } from \"../metro\";\n\nconst DiscordLogger = getByProps(\"setLogFn\").default;\n\nexport class Logger extends DiscordLogger {\n    log: (...messages: any[]) => void;\n    info: (...messages: any[]) => void;\n    warn: (...messages: any[]) => void;\n    error: (...messages: any[]) => void;\n    trace: (...messages: any[]) => void;\n    verbose: (...messages: any[]) => void;\n\n    public constructor(public tag: string) {\n        super(`Aliucord:${tag}`);\n\n        const { log, info, warn, error, trace, verbose } = this;\n\n        this.log = (...messages: any[]) => {\n            log(...messages);\n            this._log(console.log, messages);\n        };\n\n        this.info = (...messages: any[]) => {\n            info(...messages);\n            this._log(console.info, messages);\n        };\n\n        this.warn = (...messages: any[]) => {\n            warn(...messages);\n            this._log(console.warn, messages);\n        };\n\n        this.error = (...messages: any[]) => {\n            error(...messages);\n            this._log(console.error, messages);\n        };\n\n        this.trace = (...messages: any[]) => {\n            trace(...messages);\n            this._log(console.trace, messages);\n        };\n\n        this.verbose = (...messages: any[]) => {\n            verbose(...messages);\n            this._log(console.debug, messages);\n        };\n    }\n\n    private _log(log: (m: any) => void, messages: any[]) {\n        log(`[${this.tag}]`);\n        for (const msg of messages) {\n            if (msg instanceof Error) log(msg.stack ?? msg.message);\n            else log(msg);\n        }\n    }\n}\n","import type { ImageStyle, TextStyle, ViewStyle } from \"react-native\";\nimport { Logger } from \"../utils/Logger\";\n\ndeclare const __r: (moduleId: number) => any;\ndeclare const modules: { [id: number]: any; };\n\nconst logger = new Logger(\"Metro\");\n\n/**\n * Module filter options\n */\ntype FilterOptions = {\n    exports?: boolean;\n    default?: false;\n} | {\n    exports?: true;\n    default?: true;\n};\n\n// If you are curious why this exists, run\n// __r(994) and enjoy your Hindi timestamps\nfunction isModuleBlacklisted(id: number) {\n    if (id === 54 || id >= 966 && id <= 994) return true;\n    return false;\n}\n\n/**\n * Find a Discord Module\n * @param filter Module filter\n * @param options Options.\n * @returns Module if found, else null\n */\nexport function getModule(filter: (module: any) => boolean, options?: FilterOptions) {\n    const { exports = true, default: defaultExport = true } = options ?? {};\n\n    for (const key in modules) {\n        const id = Number(key);\n\n        if (isModuleBlacklisted(id)) continue;\n\n\n        let mod;\n        try {\n            mod = __r(id);\n        } catch {\n            // Some modules throw error, ignore\n        }\n        if (!mod) continue;\n\n        try {\n            if (filter(mod)) {\n                const module = modules[id].publicModule;\n                return exports ? module.exports : module;\n            }\n\n            if (mod.default && filter(mod.default)) {\n                const module = modules[id].publicModule;\n                return defaultExport ? module.exports.default :\n                    exports ? module.exports : module;\n            }\n        } catch (e) {\n            logger.error(\"Error during getModule\", e);\n        }\n    }\n\n    return null;\n}\n\ntype PropIntellisense<P extends string> = Record<P, any> & Record<PropertyKey, any>;\n\n/**\n * Find a module by props\n * @param props One or more props\n */\nexport function getByProps<T extends string>(...props: T[]): PropIntellisense<T>;\nexport function getByProps<T extends string>(...options: [...props: T[], options: FilterOptions]): PropIntellisense<T>;\nexport function getByProps<T extends string>(...options: [...props: T[], defaultExport: boolean]): PropIntellisense<T>;\nexport function getByProps(...props: any[]) {\n    if (!props.length) return null;\n\n    const options = typeof props[props.length - 1] === \"object\" ? props.pop() : {};\n    const filter = (module: any) => {\n        for (let i = 0, len = props.length; i < len; i++)\n            if (module[props[i]] === undefined) return false;\n        return true;\n    };\n\n    return getModule(filter, typeof options === \"boolean\" ? { default: options } : options);\n}\n\n/**\n * Find a module by its displayName property. Usually useful for finding React Components\n * @returns Module if found, else null\n */\nexport function getByDisplayName(displayName: string, options?: FilterOptions) {\n    return getModule(m => m.displayName === displayName, options);\n}\n\n/**\n * Find a Store by its name. \n * @returns Module if found, else null\n */\nexport function getByStoreName(storeName: string, options?: FilterOptions) {\n    return getModule(m => m.getName?.() === storeName, options);\n}\n\n/**\n * Get a module by its numeric id. Unless you know what you're doing, you\n * should not use this.\n */\nexport const getById = __r;\n\n/**\n * Same as getModule, but retrieves all matches instead of the first\n * @returns Array of modules\n */\nexport function getAll(filter: (module: any) => boolean, options?: FilterOptions): any[] {\n    const { exports = true, default: defaultExport = true } = options ?? {};\n\n    const ret = [] as any[];\n    for (const key in modules) {\n        const id = Number(key);\n\n        if (isModuleBlacklisted(id)) continue;\n\n        let mod;\n        try {\n            mod = __r(id);\n        } catch {\n            // Some modules throw error, ignore\n        }\n\n        if (!mod) continue;\n\n        try {\n            if (filter(mod)) {\n                const module = modules[Number(id)].publicModule;\n                ret.push(exports ? module.exports : module);\n            }\n\n            if (mod.default && filter(mod.default)) {\n                const module = modules[Number(id)].publicModule;\n                return defaultExport ? module.exports.default :\n                    exports ? module.exports : module;\n            }\n        } catch (e) {\n            logger.error(\"Error during getAll\", e);\n        }\n    }\n\n    return ret;\n}\n\n/**\n * Same as getByProps, but retrieves all matches instead of the first\n * @returns Array of modules\n */\nexport function getAllByProps<T extends string>(...props: T[]): PropIntellisense<T>[];\nexport function getAllByProps<T extends string>(...options: [...props: T[], options: FilterOptions]): PropIntellisense<T>[];\nexport function getAllByProps<T extends string>(...options: [...props: T[], defaultExport: boolean]): PropIntellisense<T>[];\nexport function getAllByProps(...props: any[]) {\n    if (!props.length) return [];\n\n    const options = typeof props[props.length - 1] === \"object\" ? props.pop() : {};\n    const filter = (module: any) => {\n        for (let i = 0, len = props.length; i < len; i++)\n            if (module[props[i]] === undefined) return false;\n        return true;\n    };\n\n    return getAll(filter, typeof options === \"boolean\" ? { default: options } : options);\n}\n\n/**\n * Find all modules with properties containing the specified keyword \n * @param keyword They keyword\n * @param skipConstants Whether constants (names that are FULL_CAPS) should be skipped. Defaults to true\n * @returns Array of names that match. You can then access moduleSearchResults.SomeName to view the\n *          corresponding module \n */\nexport function searchByKeyword(keyword: string, skipConstants = true) {\n    keyword = keyword.toLowerCase();\n    const matches = [] as string[];\n    window.moduleSearchResults = {};\n\n    function check(obj: any) {\n        if (!obj) return;\n        for (const name of Object.getOwnPropertyNames(obj)) {\n            if (name.toLowerCase().includes(keyword) && (!skipConstants || name.toUpperCase() !== name)) {\n                matches.push(name);\n                window.moduleSearchResults[name] = obj;\n            }\n        }\n    }\n\n    for (const id in modules) if (!isModuleBlacklisted(Number(id))) {\n        try {\n            __r(Number(id));\n            const mod = modules[id]?.publicModule;\n            if (mod) {\n                check(mod);\n                check(mod.exports);\n                check(mod.exports?.default);\n            }\n        } catch {\n            //\n        }\n    }\n\n    return matches;\n}\n\nexport const UserStore = getByStoreName(\"UserStore\");\nexport const GuildStore = getByStoreName(\"GuildStore\");\nexport const ChannelStore = getByStoreName(\"ChannelStore\");\nexport const MessageStore = getByStoreName(\"MessageStore\");\nexport const GuildMemberStore = getByStoreName(\"GuildMemberStore\");\nexport const SelectedChannelStore = getByStoreName(\"SelectedChannelStore\");\n\nexport const ModalActions = getByProps(\"closeModal\");\nexport const MessageActions = getByProps(\"sendMessage\", \"receiveMessage\");\nexport const FluxDispatcher = getByProps(\"dirtyDispatch\");\nexport const FetchUserActions = getByProps(\"fetchProfile\");\nexport const ContextMenuActions = getByProps(\"openContextMenu\");\n\nexport const Clipboard = getByProps(\"getString\", \"setString\") as {\n    getString(): Promise<string>,\n    setString(str: string): Promise<void>;\n};\n\nexport const RestAPI = getByProps(\"getAPIBaseURL\", \"get\");\nexport const i18n = getByProps(\"Messages\");\nexport const Flux = getByProps(\"connectStores\");\nexport const React = getByProps(\"createElement\") as typeof import(\"react\");\nexport const ReactNative = getByProps(\"Text\", \"Image\") as typeof import(\"react-native\");\nexport const Constants = getByProps(\"ActionTypes\") as import(\"./constants\").default;\nexport const URLOpener = getByProps(\"openURL\", \"handleSupportedURL\");\nexport const Forms = getByProps(\"FormSection\");\n\n// Abandon all hope, ye who enter here\ntype Style = ViewStyle & ImageStyle & TextStyle;\ntype Styles = Partial<{ [key in keyof Style]: readonly [Style[key], Style[key]] | Style[key] }>;\ntype FlattenValue<T> = { [key in keyof T]: T[key] extends ReadonlyArray<infer E> ? E : T[key] };\n\nexport const Styles = getByProps(\"createThemedStyleSheet\") as {\n    ThemeColorMap: Record<string, [string, string]>;\n    createThemedStyleSheet: <T extends { [key: string]: Styles; }>(styles: T)\n        => { [key in keyof T]: FlattenValue<T[key]>; };\n    getThemedStylesheet: <T extends { [key: string]: Styles; }>(styles: T)\n        => Record<\"mergedDarkStyles\" | \"mergedLightStyles\", { [key in keyof T]: FlattenValue<T[key]>; }>;\n};\n","import { React } from \"../metro\";\n\n/**\n * Casts types down to be less specific and also allow missing keys in Objects\n * CastDown<12> -> number\n */\ntype CastDown<T> =\n    T extends number ? number :\n    T extends string ? string :\n    T extends boolean ? boolean :\n    T extends Record<any, any> ? T & Record<string, any> :\n    T;\n\n/** \n * Settings React Hook. Will automatically rerender your component and\n * save to settings on set()\n */\nexport function useSettings<T>(settings: Settings<T>) {\n    const [, update] = React.useState(0);\n\n    return React.useMemo(() => ({\n        get<K extends keyof T, V extends T[K]>(key: K, defaultValue: V) {\n            return settings.get(key, defaultValue);\n        },\n        set<K extends keyof T, V extends T[K]>(key: K, value: V) {\n            settings.set(key, value).then(() => update(x => x + 1));\n        }\n    }), []);\n}\n\n/**\n * SettingsAPI.\n * For technical reasons, this class must be constructed using Settings.make, \n * and NOT via new.\n */\nexport class Settings<Schema> {\n    private constructor(public readonly module: string, public readonly snapshot: Schema) { }\n\n    // FIXME - find a better way to do this somehow\n    // getSettings is an asynchronous method. Thus, an async factory method\n    // is required to ensure the snapshot is ready before receiving any calls to other methods\n    // An alternative would be making get async, but that would be very inconvenient.\n    /**\n     * Construct a new Settings instance.\n     * Accepts a Schema as generic argument which will be used to validate \n     * and type calls to get and set\n     * @param module Name of your module. Choose something meaningful as this will be used to \n     *               identify your settings\n     * @returns Settings Instance\n     */\n    static async make<Schema = any>(module: string) {\n        const snapshot = (await window.nativeModuleProxy.AliucordNative.getSettings(module)) ?? \"{}\";\n        try {\n            const data = JSON.parse(snapshot);\n            if (typeof data !== \"object\")\n                throw new Error(\"JSON data was not an object.\");\n            return new this<Schema>(module, data);\n        } catch (err: any) {\n            window.Aliucord.logger.error(`[SettingsAPI] Settings of module ${module} are corrupt and were cleared.`);\n            return new this<Schema>(module, {} as Schema);\n        }\n    }\n\n    /**\n     * Get a settings item\n     * @param key Key\n     * @param defaultValue Default value to return in case no such setting exists \n     * @returns Setting if found, otherwise the default value\n     */\n    public get<K extends keyof Schema, T extends Schema[K]>(key: K, defaultValue: T): CastDown<T> {\n        // @ts-ignore\n        return this.snapshot[key] ?? defaultValue;\n    }\n\n    /**\n     * Set a settings item\n     * @param key Key\n     * @param value New value\n     */\n    public async set<K extends keyof Schema>(key: K, value: Schema[K]) {\n        const { snapshot } = this;\n        snapshot[key] = value;\n        return this._persist();\n    }\n\n    /**\n     * Delete a setting\n     * @param key Key\n     */\n    public async delete<K extends keyof Schema>(key: K) {\n        if (key in this.snapshot) {\n            delete this.snapshot[key];\n            return this._persist();\n        }\n    }\n\n    private _persist(): Promise<void> {\n        return window.nativeModuleProxy.AliucordNative.writeSettings(this.module, JSON.stringify(this.snapshot, null, 2));\n    }\n}\n\n","import { getByProps } from \"../metro\";\n\nexport interface CommandSection {\n    id: string;\n    name: string;\n    icon?: string;\n}\n\nexport interface ApplicationCommand {\n    description: string;\n    name: string;\n    options: ApplicationCommandOption[];\n    execute: (args: any[], ctx: CommandContext) => CommandResult | void | Promise<CommandResult> | Promise<void>;\n\n    // added automatically in register\n    id?: string;\n    applicationId?: string;\n    displayName?: string;\n    displayDescription?: string;\n    inputType?: ApplicationCommandInputType;\n    type?: ApplicationCommandType;\n}\n\nexport interface AliucordCommand extends ApplicationCommand {\n    __plugin?: string;\n}\n\nexport enum ApplicationCommandInputType {\n    BUILT_IN,\n    BUILT_IN_TEXT,\n    BUILT_IN_INTEGRATION,\n    BOT,\n    PLACEHOLDER\n}\n\nexport interface ApplicationCommandOption {\n    name: string;\n    description: string;\n    required?: boolean;\n    type: ApplicationCommandOptionType;\n\n    // added automatically in register\n    displayName?: string;\n    displayDescription?: string;\n}\n\nexport enum ApplicationCommandOptionType {\n    SUB_COMMAND = 1,\n    SUB_COMMAND_GROUP,\n    STRING,\n    INTEGER,\n    BOOLEAN,\n    USER6,\n    CHANNEL,\n    ROLE,\n    MENTIONABLE,\n    NUMBER,\n    ATTACHMENT\n}\n\nexport enum ApplicationCommandType {\n    CHAT = 1,\n    USER,\n    MESSAGE\n}\n\nexport interface CommandContext {\n    channel: any;\n    guild: any;\n}\n\nexport interface CommandResult {\n    content: string;\n    tts?: boolean;\n}\n\nconst SnowflakeUtils = getByProps(\"fromTimestamp\");\n\nexport class Commands {\n    private static _idIncrementNum = Date.now();\n\n    static generateId = () => `-${SnowflakeUtils.fromTimestamp(Commands._idIncrementNum++)}`;\n\n    public static _aliucordSection: CommandSection = {\n        id: Commands.generateId(),\n        name: \"Aliucord\"\n    };\n\n    public static _commands: AliucordCommand[] = [];\n\n    public constructor(private plugin: string) { }\n\n    registerCommand(command: AliucordCommand) {\n        command.id = Commands.generateId();\n        command.applicationId = Commands._aliucordSection.id;\n        command.displayName = command.name;\n        command.displayDescription = command.description;\n        command.inputType = ApplicationCommandInputType.BUILT_IN;\n        command.type = ApplicationCommandType.CHAT;\n        command.__plugin = this.plugin;\n\n        for (const option of command.options) {\n            option.displayName = option.name;\n            option.displayDescription = option.description;\n        }\n\n        Commands._commands.push(command);\n    }\n\n    unregisterAll() {\n        Commands._commands = Commands._commands.filter(c => c.__plugin !== this.plugin);\n    }\n}\n","import { Logger } from \"./Logger\";\n\nconst logger = new Logger(\"Patcher\");\n// TODO: Should this be a symbol? String is probably better so you can access\n// it during debugging\nconst patchInfoSym = \"__ALIUCORD_PATCH_INFO__\";\n\nexport type BeforePatchFn<T, R, A extends any[]> = (\n    ctx: PatchContext<T, R, A>,\n    ...args: A\n) => R | void;\n\nexport type AfterPatchFn<T, R, A extends any[]> = (\n    ctx: AfterPatchContext<T, R, A>,\n    result: R,\n    ...args: A\n) => R | void;\n\nexport type InsteadFn<T, R, A extends any[]> = (\n    ctx: PatchContext<T, R, A>,\n    ...args: A\n) => R;\n\nexport type Unpatch = () => void;\n\nexport enum PatchPriority {\n    MIN = 0,\n    DEFAULT = 15,\n    MAX = 30\n}\n\ntype PatchFns<T, R, A extends any[]> = {\n    before?: BeforePatchFn<T, R, A>,\n    instead?: InsteadFn<T, R, A>,\n    after?: AfterPatchFn<T, R, A>;\n};\n\nexport class Patch<T, R, A extends any[]> {\n    public before: BeforePatchFn<T, R, A>;\n    public after: AfterPatchFn<T, R, A>;\n\n    public constructor(\n        data: PatchFns<T, R, A>,\n        public readonly priority: number = PatchPriority.DEFAULT,\n        public readonly plugin?: string\n    ) {\n        if (this.priority < PatchPriority.MIN || this.priority > PatchPriority.MAX) {\n            throw new Error(\"Priority must be between PatchPriority.MIN and PatchPriority.MAX\");\n        }\n\n        const defaultFn = () => void 0;\n\n        if (data.instead) {\n            if (data.after || data.before) {\n                throw new Error(\"Instead patches cannot specify before or after patches.\");\n            }\n\n            const { instead } = data;\n            this.before = (ctx: PatchContext<T, R, A>, ...args: A) => {\n                ctx.result = instead(ctx, ...args);\n            };\n            this.after = defaultFn;\n        } else {\n            this.before = data.before ?? defaultFn;\n            this.after = data.after ?? defaultFn;\n        }\n    }\n}\n\nclass PatchInfo<T, R, A extends any[]> {\n    public constructor(public readonly backup: (...args: A) => R, public readonly methodName: string) { }\n\n    private readonly _patches = [] as Patch<T, R, A>[];\n\n    private error(patch: Patch<T, R, A>, type: \"PrePatch\" | \"PostPatch\", error: any) {\n        const message =\n            (patch.plugin ? `[${patch.plugin}] ` : \"\") +\n            (`Error during ${this.methodName} ${type}\\n`);\n        logger.error(message, error);\n    }\n\n    public get patchCount() {\n        return this._patches.length;\n    }\n\n    public addPatch(patch: Patch<T, R, A>) {\n        if (this._patches.includes(patch)) return false;\n        this._patches.push(patch);\n        this._patches.sort((a, b) => b.priority - a.priority);\n        return true;\n    }\n\n    public removePatch(patch: Patch<T, R, A>) {\n        const idx = this._patches.indexOf(patch);\n        if (idx === -1) return false;\n        this._patches.splice(idx, 1);\n        return true;\n    }\n\n    public makeReplacementFunc() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const _this = this;\n        return function AliucordPatchFn(this: T, ...args: A) {\n            return _this._callback(this, ...args);\n        };\n    }\n\n    private _callback(thisObject: T, ...args: A) {\n        const patches = this._patches;\n        if (!patches.length) return this.backup.call(thisObject, ...args);\n\n        const ctx = new PatchContext(thisObject, args, this.backup);\n\n        let idx = 0;\n        do {\n            try {\n                const result = patches[idx].before(ctx, ...ctx.args);\n                if (result !== undefined) ctx.result = result;\n            } catch (err: any) {\n                this.error(patches[idx], \"PrePatch\", err);\n\n                ctx.result = undefined;\n                ctx._returnEarly = false;\n                continue;\n            }\n\n            if (ctx._returnEarly) {\n                idx++;\n                break;\n            }\n        } while (++idx < patches.length);\n\n        if (!ctx._returnEarly) {\n            try {\n                ctx.result = this.backup.call(ctx.thisObject, ...ctx.args);\n            } catch (err: any) {\n                ctx.error = err;\n            }\n        }\n\n        idx--;\n        do {\n            const lastRes = ctx.result;\n            const lastError = ctx.error;\n\n            try {\n                const result = patches[idx].after(ctx as AfterPatchContext<T, R, A>, ctx.result!, ...ctx.args);\n                if (result !== undefined) ctx.result = result;\n            } catch (err: any) {\n                this.error(patches[idx], \"PostPatch\", err);\n\n                if (lastError !== null) {\n                    ctx.error = lastError;\n                } else {\n                    ctx.result = lastRes;\n                }\n            }\n        } while (--idx >= 0);\n\n        return ctx.getResultOrThrowError();\n    }\n}\n\nclass PatchContext<T, R, A extends any[]> {\n    public constructor(\n        public readonly thisObject: T,\n        public readonly args: A,\n        private readonly backup: (...args: A) => R\n    ) { }\n\n    private _result: R | undefined;\n    private _error: Error | undefined;\n    /** Do not use */\n    _returnEarly = false;\n\n    set result(value: R | undefined) {\n        this._result = value;\n        this._error = undefined;\n        this._returnEarly = true;\n    }\n\n    get result(): R | undefined {\n        return this._result;\n    }\n\n    get error(): Error | undefined {\n        return this._error;\n    }\n\n    set error(error: Error | undefined) {\n        this._returnEarly = error !== undefined;\n        this._error = error;\n    }\n\n    getResultOrThrowError() {\n        if (this._error !== undefined) throw this._error;\n        return this._result;\n    }\n\n    callOriginal(): R {\n        return callOriginal(this.backup, this.thisObject, this.args);\n    }\n}\n\ntype AfterPatchContext<T, R, A extends any[]> = PatchContext<T, R, A> & { result: R; };\n\nfunction resolveMethod(obj: any, methodName: string) {\n    if (obj == null) throw new Error(\"obj may not be null or undefined\");\n    if (typeof methodName !== \"string\" || !methodName) throw new Error(\"methodName must be a non empty string\");\n\n    const method = obj[methodName as any];\n    if (method == null) throw new Error(\"No such method: \" + methodName);\n    if (typeof method !== \"function\") throw new Error(methodName + \" is not a function\");\n    return method;\n}\n\nexport function unpatch<T>(obj: T | any, methodName: string, patch: Patch<T, any, any>) {\n    const func = resolveMethod(obj, methodName);\n    const patchInfo = func[patchInfoSym] as PatchInfo<T, any, any>;\n    if (patchInfo) {\n        patchInfo.removePatch(patch);\n        if (patchInfo.patchCount === 0) {\n            obj[methodName] = patchInfo.backup;\n        }\n    }\n}\n\nexport function callOriginal(func: (...args: any[]) => any, thisObj: any, ...args: any[]) {\n    if (func == null || typeof func !== \"function\") throw new Error(\"Not a function: \" + func);\n    const patchInfo = func[patchInfoSym as keyof typeof func] as PatchInfo<any, any, any>;\n    const original = patchInfo?.backup ?? func;\n    return original.call(thisObj, ...args);\n}\n\nexport function patch<T = any, R = any, A extends any[] = any[]>(\n    object: T | any,\n    name: string,\n    patch: Patch<T, R, A>\n): Unpatch {\n    const original = resolveMethod(object, name);\n\n    let patchInfo = original[patchInfoSym] as PatchInfo<T, R, A>;\n    if (!patchInfo) {\n        patchInfo = new PatchInfo(original, name);\n\n        const replacement = patchInfo.makeReplacementFunc();\n        Object.defineProperty(replacement, patchInfoSym, {\n            value: patchInfo,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        });\n        Object.defineProperties(replacement, Object.getOwnPropertyDescriptors(original));\n\n        object[name] = replacement;\n    }\n\n    patchInfo.addPatch(patch);\n\n    return () => unpatch(object, name, patch);\n}\n\nexport function before<T = any, R = any, A extends any[] = any[]>(\n    object: any,\n    name: string,\n    before: BeforePatchFn<T, R, A>,\n    priority = PatchPriority.DEFAULT,\n    plugin?: string\n): Unpatch {\n    return patch(object, name, new Patch({ before }, priority, plugin));\n}\n\nexport function instead<T = any, R = any, A extends any[] = any[]>(\n    object: any,\n    name: string,\n    instead: InsteadFn<T, R, A>,\n    priority = PatchPriority.DEFAULT,\n    plugin?: string\n): Unpatch {\n    return patch(object, name, new Patch({ instead }, priority, plugin));\n}\n\nexport function insteadDoNothing(object: any, name: string) {\n    return instead(object, name, () => void 0);\n}\n\nexport function after<T = any, R = any, A extends any[] = any[]>(\n    object: any,\n    name: string,\n    after: AfterPatchFn<T, R, A>,\n    priority = PatchPriority.DEFAULT,\n    plugin?: string\n): Unpatch {\n    return patch(object, name, new Patch({ after }, priority, plugin));\n}\n","import {\n    after, AfterPatchFn, before, BeforePatchFn, instead, insteadDoNothing, InsteadFn, PatchPriority, Unpatch\n} from \"../utils/patcher\";\n\nexport class Patcher {\n    private readonly _unpatches = [] as Unpatch[];\n\n    public constructor(public readonly plugin: string) { }\n\n    public before<T, R, A extends any[]>(object: T, name: string, fn: BeforePatchFn<T, R, A>, priority?: PatchPriority): Unpatch {\n        const unpatch = before<T, R, A>(object, name, fn, priority, this.plugin);\n        this._unpatches.push(unpatch);\n        return unpatch;\n    }\n\n    public instead<T, R, A extends any[]>(object: T, name: string, fn: InsteadFn<T, R, A>, priority?: PatchPriority): Unpatch {\n        const unpatch = instead<T, R, A>(object, name, fn, priority, this.plugin);\n        this._unpatches.push(unpatch);\n        return unpatch;\n    }\n\n    public insteadDoNothing(object: any, name: string): Unpatch {\n        const unpatch = insteadDoNothing(object, name);\n        this._unpatches.push(unpatch);\n        return unpatch;\n    }\n\n    public after<T, R, A extends any[]>(object: T, name: string, fn: AfterPatchFn<T, R, A>, priority?: PatchPriority): Unpatch {\n        const unpatch = after<T, R, A>(object, name, fn, priority, this.plugin);\n        this._unpatches.push(unpatch);\n        return unpatch;\n    }\n\n    public unpatchAll() {\n        let unpatch;\n        while ((unpatch = this._unpatches.pop())) {\n            unpatch();\n        }\n    }\n}\n","import { Commands } from \"../api/Commands\";\nimport { Patcher } from \"../api/Patcher\";\nimport { Settings } from \"../api/Settings\";\nimport { Logger } from \"../utils/Logger\";\n\n/**\n * Plugin class\n * You may pass a Settings Schema to have calls to\n * this.settings.get and this.settings.set validated and typed strongly\n */\nexport default class Plugin<SettingsSchema = any> {\n    public readonly commands = new Commands(this.name);\n    public readonly logger = new Logger(this.name);\n    public readonly patcher = new Patcher(this.name);\n\n    public constructor(public readonly settings: Settings<SettingsSchema>) { }\n\n    public get name() {\n        return this.constructor.name;\n    }\n\n    /**\n     * The start method is called when your plugin is started\n     */\n    public start() {\n        // nop\n    }\n\n    /**\n     * The stop method is called when your plugin is stopped.\n     * By default, this unregisters all commands and patches, so unless\n     * you need to do more cleanup than that, there is no need to overwrite this.\n     */\n    public stop() {\n        this.commands.unregisterAll();\n        this.patcher.unpatchAll();\n    }\n}\n","import { ApplicationCommand, Commands, CommandSection } from \"../api/Commands\";\nimport Plugin from \"../entities/Plugin\";\nimport { getByProps } from \"../metro\";\nimport { after } from \"../utils/patcher\";\n\nexport default class CommandHandler extends Plugin {\n    start() {\n        const commands = getByProps(\"getBuiltInCommands\");\n        after<any, ApplicationCommand[], any>(commands, \"getBuiltInCommands\", context => [...context.result, ...Commands._commands]);\n\n        const discovery = getByProps(\"useApplicationCommandsDiscoveryState\");\n        after(discovery, \"useApplicationCommandsDiscoveryState\", context => {\n            const shouldDisplay = context.args[3] === false;\n\n            const res = context.result as any;\n            if (shouldDisplay && !res.discoverySections.find((s: any) => s.key === Commands._aliucordSection.id) && Commands._commands.length) {\n                res.discoveryCommands.push(...Commands._commands);\n                res.commands.push(...Commands._commands.filter(\n                    command => !res.commands.some((cmd: ApplicationCommand) => cmd.name === command.name))\n                );\n\n                res.discoverySections.push({\n                    data: Commands._commands,\n                    key: Commands._aliucordSection.id,\n                    section: Commands._aliucordSection\n                });\n\n                const offsets = res.sectionsOffset;\n                offsets.push(offsets[offsets.length - 1] + commands.BUILT_IN_COMMANDS.length - 1);\n            }\n\n            if (shouldDisplay && !res.applicationCommandSections.find((s: CommandSection) => s.id === Commands._aliucordSection.id) && Commands._commands.length) {\n                res.applicationCommandSections.push(Commands._aliucordSection);\n            }\n        });\n    }\n}\n","export const sha = \"82603d0\";","import { ReactNative } from \"../metro\";\n\nconst DebugInfo = {\n    get discordVersion(): string {\n        try {\n            return `${ReactNative.NativeModules.InfoDictionaryManager.Version} (${ReactNative.NativeModules.InfoDictionaryManager.ReleaseChannel})`;\n        } catch (ex) {\n            return \"unknown\";\n        }\n    },\n\n    get system(): string {\n        try {\n            return `${ReactNative.Platform.OS} ${ReactNative.Platform.constants.Release} (SDK v${ReactNative.Platform.Version}) ${ReactNative.NativeModules.DCDDeviceManager.device} ${ReactNative.Platform.constants.uiMode}`;\n        } catch (ex) {\n            return \"unknown\";\n        }\n    },\n\n    get reactNativeVersion(): string {\n        try {\n            const ver = ReactNative.Platform.constants.reactNativeVersion;\n            return `${ver.major || 0}.${ver.minor || 0}.${ver.patch || 0}`;\n        } catch (ex) {\n            return \"unknown\";\n        }\n    },\n\n    get hermesVersion(): string {\n        try {\n            if (window.HermesInternal === undefined) return \"N/A\";\n            const runtimeProps = window.HermesInternal.getRuntimeProperties();\n            return `${runtimeProps[\"OSS Release Version\"]} ${runtimeProps[\"Build\"]} (v${runtimeProps[\"Bytecode Version\"]})`;\n        } catch (ex) {\n            return \"unknown\";\n        }\n    }\n};\n\nexport default DebugInfo;\n","/**\n * Makes await work in eval.\n * @param code Code to awaitify\n * @returns Modified code (Do not look at it. Trust me, it is an abomination)\n */\nexport function makeAsyncEval(code: string) {\n    return `\n    var __async = (generator) => {\n        return new Promise((resolve, reject) => {\n            var fulfilled = (value) => {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            };\n\n            var rejected = (value) => {\n                try {\n                    step(generator.throw(value));\n                } catch (e) {\n                    reject(e);\n                }\n            };\n\n            var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n\n            step((generator = generator()).next());\n        });\n    };\n\n    __async(function*() {\n        ${code.replace(/\\bawait\\b/g, \"yield\")}\n    });\n    `;\n}\n","import { sha } from \"aliucord-version\";\nimport { ApplicationCommandOptionType } from \"../api/Commands\";\nimport Plugin from \"../entities/Plugin\";\nimport { getByProps, i18n, MessageActions } from \"../metro\";\nimport DebugInfo from \"../utils/DebugInfo\";\nimport { makeAsyncEval } from \"../utils/misc\";\n\nexport default class CoreCommands extends Plugin {\n    start() {\n        const ClydeUtils = getByProps(\"sendBotMessage\");\n        this.commands.registerCommand({\n            name: \"echo\",\n            description: \"Creates Clyde message\",\n            options: [\n                {\n                    name: \"message\",\n                    description: i18n.Messages.COMMAND_SHRUG_MESSAGE_DESCRIPTION,\n                    required: true,\n                    type: ApplicationCommandOptionType.STRING\n                }\n            ],\n            execute: (args, ctx) => {\n                ClydeUtils.sendBotMessage(ctx.channel.id, args[0].value);\n            }\n        });\n\n        this.commands.registerCommand({\n            name: \"eval\",\n            description: \"Eval javascript\",\n            options: [\n                {\n                    name: \"code\",\n                    description: \"Code to eval. Async functions are not supported. Await is, however you must specify a return explicitly\",\n                    required: true,\n                    type: ApplicationCommandOptionType.STRING\n                }\n            ],\n            execute: async (args, ctx) => {\n                try {\n                    const code = args[0].value as string;\n\n                    let result;\n                    if (code.includes(\"await\")) {\n                        result = await eval(makeAsyncEval(code));\n                    } else {\n                        result = eval(code);\n                    }\n\n                    ClydeUtils.sendBotMessage(ctx.channel.id, this.codeblock(String(result)));\n                } catch (err: any) {\n                    ClydeUtils.sendBotMessage(ctx.channel.id, this.codeblock(err?.stack ?? err?.message ?? String(err)));\n                }\n            }\n        });\n\n        this.commands.registerCommand({\n            name: \"debug\",\n            description: \"Posts debug info\",\n            options: [],\n            execute: async (args, ctx) => {\n                MessageActions.sendMessage(ctx.channel.id, {\n                    content: `**Debug Info:**\n                        > Discord: ${DebugInfo.discordVersion}\n                        > Aliucord: ${sha}\n                        > System: ${DebugInfo.system}\n                        > React: ${DebugInfo.reactNativeVersion}\n                        > Hermes: ${DebugInfo.hermesVersion}\n                    `.replace(/^\\s+/gm, \"\")\n                });\n            }\n        });\n    }\n\n    private codeblock(code: string) {\n        const ZWSP = \"â€‹\";\n        return \"```js\\n\" + code.replace(/`/g, \"`\" + ZWSP) + \"```\";\n    }\n}\n","// Thanks to Powercord and Zere\n// https://github.com/rauenzi/BetterDiscordAddons/blob/master/Plugins/DoNotTrack/DoNotTrack.plugin.js\n// https://github.com/powercord-org/powercord/blob/v2/src/Powercord/coremods/no-track/index.js\n\nimport Plugin from \"../entities/Plugin\";\nimport { getByProps } from \"../metro/index\";\nimport { insteadDoNothing } from \"../utils/patcher\";\n\nexport default class NoTrack extends Plugin {\n    public start() {\n        const Analytics = getByProps(\"getSuperPropertiesBase64\", \"track\");\n        const Snitch = getByProps(\"submitLiveCrashReport\");\n        const { AnalyticsActionHandlers } = getByProps(\"AnalyticsActionHandlers\");\n\n        insteadDoNothing(Analytics, \"track\");\n        insteadDoNothing(Snitch, \"submitLiveCrashReport\");\n        insteadDoNothing(AnalyticsActionHandlers, \"handleTrack\");\n\n        const sentry = (window as any).__SENTRY__;\n        const hub = sentry.hub;\n\n        sentry.logger.disable();\n\n        insteadDoNothing(hub, \"addBreadcrumb\");\n\n        hub.getClient().close(0);\n        hub.getScope().clear();\n\n        const c = console as any;\n        for (const method in c) if (c[method].__sentry_original__) {\n            c[method] = c[method].__sentry_original__;\n        }\n    }\n}\n","import Plugin from \"../entities/Plugin\";\nimport CommandHandler from \"./CommandHandler\";\nimport CoreCommands from \"./CoreCommands\";\nimport NoTrack from \"./NoTrack\";\n\nconst plugins: Array<typeof Plugin> = [CommandHandler, CoreCommands, NoTrack];\n\nexport function startAll() {\n    for (const pluginClass of plugins) {\n        const { name } = pluginClass;\n        try {\n            window.Aliucord.logger.info(\"Loading CorePlugin \" + name);\n            // TODO - Does this need a settings instance?\n            new pluginClass().start();\n        } catch (e) {\n            window.Aliucord.logger.error(\"Failed to start CorePlugin \" + name, e);\n        }\n    }\n}\n","import { PluginManifest } from \"../entities/types\";\n// import { Logger } from \"./utils/Logger\";\n\n/**\n * FilePath. Must be absolute\n */\nexport type Path = string;\n\nconst AliucordNative = window.nativeModuleProxy.AliucordNative;\n\n// creating logger here makes Aliucord not load??\n// const logger = new Logger(\"AliucordNative\");\n\n/**\n * Create a directory\n * @param path Path to directory\n * @param recursive Whether to recursively create parent directories if they do not exist\n * @returns true if mkdir succeeded or file exists. false otherwise\n */\nexport async function mkdir(path: Path, recursive = false): Promise<boolean> {\n    try {\n        return AliucordNative.mkdir(path, recursive);\n    } catch (err) {\n        // logger.error(`mkdir failed.\\npath: ${path}, recursive: ${recursive}`, err);\n        return false;\n    }\n}\n\n/**\n * Check whether a file exists\n * @param path File path \n * @returns boolean\n */\nexport const existsFile: (path: Path) => Promise<boolean> = AliucordNative.existsFile;\n\n/**\n * Delete a file\n * @param path File path \n * @returns Whether the file was successfully deleted\n */\nexport const deleteFile: (path: Path) => Promise<boolean> = AliucordNative.deleteFile;\n\n/**\n * Read a file\n * @param path Path to file\n * @param encoding Encoding. Must be one of utf-8 or base64\n * @returns content in the specified encoding\n */\nexport async function readFile(path: Path, encoding: \"base64\" | \"utf-8\" = \"utf-8\"): Promise<string> {\n    return AliucordNative.readFile(path, encoding);\n}\n\n/**\n * Write a file\n * @param path Path to file\n * @param content Content. Must be a string, pass base64 to write binary\n * @param encoding Encoding of content. Must be one of utf-8 or base64\n */\nexport async function writeFile(path: Path, content: string, encoding: \"base64\" | \"utf-8\" = \"utf-8\"): Promise<boolean> {\n    return AliucordNative.writeFile(path, content, encoding);\n}\n\n/**\n * Retrieve a plugin's manifest\n * @param plugin Plugin name\n * @returns PluginManifest or null if no manifest found\n */\nexport async function getManifest(plugin: string): Promise<PluginManifest | null> {\n    try {\n        const data = await AliucordNative.getManifest(plugin);\n        return JSON.parse(data);\n    } catch (err) {\n        // logger.error(\"Error while obtaining manifest of \" + plugin, err);\n        return null;\n    }\n}\n\n/**\n * Get a list of all native modules\n * @returns Map<ModuleName, MethodList>\n */\nexport const listNativeModules: () => Promise<Record<string, string[]>> = AliucordNative.listNativeModules;\n\n/**\n * Used to check if Aliucord has storage permissions\n */\nexport const checkPermissions: () => Promise<boolean> = AliucordNative.checkPermissions;\n\n/**\n * Used to request storage permissions\n */\nexport const requestPermissions: () => Promise<boolean> = AliucordNative.requestPermissions;\n","export const ALIUCORD_INVITE = \"https://discord.gg/EsNDvBaHVU\";\nexport const ALIUCORD_GITHUB = \"https://github.com/Aliucord/Aliucord\";\nexport const ALIUCORD_PATREON = \"https://patreon.com/Aliucord\";\n","import { Logger } from \"../Logger\";\nimport { makeAsyncEval } from \"../misc\";\nimport { before } from \"../patcher\";\n\nlet ws: WebSocket;\nexport function startDebugWs() {\n    if (ws) return;\n    ws = new WebSocket(\"ws://localhost:9090\");\n\n    const logger = new Logger(\"DebugWS\");\n    logger.info(\"Connecting to debug ws\");\n\n    ws.addEventListener(\"open\", () => logger.info(\"Connected with debug websocket\"));\n    ws.addEventListener(\"error\", e => logger.error((e as ErrorEvent).message));\n    ws.addEventListener(\"message\", async message => {\n        try {\n            const { data } = message;\n            if (data.includes(\"await\")) {\n                console.log(await eval(makeAsyncEval(data)));\n            } else {\n                console.log(eval(data));\n            }\n        } catch (e) {\n            logger.error(e as Error | string);\n        }\n    });\n\n    before(globalThis, \"nativeLoggingHook\", (_, message: string, level: number) => {\n        if (ws.readyState === WebSocket.OPEN) {\n            ws.send(JSON.stringify({ level, message }));\n        }\n    });\n}\n","import { getByProps } from \"../metro\";\nimport { after } from \"./patcher\";\n\nconst assetMap = {};\n\nconst AssetRegistry = getByProps(\"registerAsset\");\n\nafter(AssetRegistry, \"registerAsset\", (_, id, asset) => {\n    assetMap[asset.name] = id;\n});\n\nfor (let i = 1; ; i++) {\n    const asset = AssetRegistry.getAssetByID(i);\n    if (asset) {\n        assetMap[asset.name] = i;\n    } else break;\n}\n\n/**\n * Get the id of an asset to be used as Image source\n * @example <Image source={getAssetId(\"heart\")} />)\n * @param assetName Name of the asset\n * @returns ID or -1\n * \n * @see findAssets\n */\nexport function getAssetId(assetName: string) {\n    return assetMap[assetName];\n}\n\n/**\n * Lists all assets containing the specified keyword\n * @param keyword\n * @returns asset names\n */\nexport function findAssets(keyword: string) {\n    keyword = keyword.toLowerCase();\n\n    const names = [] as string[];\n    for (const name in assetMap) {\n        if (name.toLowerCase().includes(keyword)) {\n            names.push(name);\n        }\n    }\n\n    return names;\n}\n","import { useSettings } from \"../api/Settings\";\nimport { Forms, React } from \"../metro\";\nimport { URLOpener } from \"../metro/index\";\nimport { ALIUCORD_GITHUB, ALIUCORD_INVITE, ALIUCORD_PATREON } from \"../utils/constants\";\nimport { startDebugWs } from \"../utils/debug/DebugWS\";\nimport { getAssetId } from \"../utils/getAssetId\";\n\nconst { FormSection, FormSwitch, FormRow } = Forms;\n\nexport default function AliucordPage() {\n    const settings = useSettings(window.Aliucord.settings);\n\n    return (\n        <>\n            <FormSection title=\"Settings\" /* Nice prop name discord */ android_noDivider={true}>\n                <FormRow\n                    label=\"Automatically disable plugins on crash\"\n                    trailing={<FormSwitch value={settings.get(\"disablePluginsOnCrash\", true)} onValueChange={v => settings.set(\"disablePluginsOnCrash\", v)} />}\n                />\n                <FormRow\n                    label=\"Automatically update Aliucord\"\n                    trailing={<FormSwitch value={settings.get(\"autoUpdateAliucord\", false)} onValueChange={v => settings.set(\"autoUpdateAliucord\", v)} />}\n                />\n                <FormRow\n                    label=\"Automatically update Plugins\"\n                    trailing={<FormSwitch value={settings.get(\"autoUpdatePlugins\", false)} onValueChange={v => settings.set(\"autoUpdatePlugins\", v)} />}\n                />\n                <FormRow\n                    label=\"Enable Debug WebSocket\"\n                    trailing={<FormSwitch\n                        value={settings.get(\"debugWS\", false)}\n                        onValueChange={v => {\n                            settings.set(\"debugWS\", v);\n                            if (v) startDebugWs();\n                        }}\n                    />}\n                />\n            </FormSection>\n            <FormSection title=\"Socials\">\n                <FormRow\n                    label=\"Source Code\"\n                    leading={<FormRow.Icon source={getAssetId(\"img_account_sync_github_white\")} />}\n                    trailing={FormRow.Arrow}\n                    onPress={() => URLOpener.openURL(ALIUCORD_GITHUB)}\n                />\n                <FormRow\n                    label=\"Support Server\"\n                    leading={<FormRow.Icon source={getAssetId(\"img_help_icon\")} />}\n                    trailing={FormRow.Arrow}\n                    onPress={() => URLOpener.openURL(ALIUCORD_INVITE)}\n                />\n                <FormRow\n                    label=\"Support Us\"\n                    leading={<FormRow.Icon source={getAssetId(\"ic_premium_perk_heart_24px\")} />}\n                    trailing={FormRow.Arrow}\n                    onPress={() => URLOpener.openURL(ALIUCORD_PATREON)}\n                />\n            </FormSection>\n        </>\n    );\n}\n","import Plugin from \"../entities/Plugin\";\nimport { Logger } from \"../utils/Logger\";\nimport { Settings } from \"./Settings\";\n\nconst logger = new Logger(\"PluginManager\");\n\nexport class PluginManager {\n    public static readonly plugins = {} as Record<string, Plugin>;\n\n    public static isEnabled(plugin: string) {\n        return window.Aliucord.settings.get(\"plugins\", {})[plugin] === true;\n    }\n\n    public static enable(plugin: string) {\n        const plugins = window.Aliucord.settings.get(\"plugins\", {});\n        plugins[plugin] = true;\n        window.Aliucord.settings.set(\"plugins\", plugins);\n    }\n\n    public static disable(plugin: string) {\n        const plugins = window.Aliucord.settings.get(\"plugins\", {});\n        plugins[plugin] = false;\n        window.Aliucord.settings.set(\"plugins\", plugins);\n    }\n\n    private static _register(plugin: typeof Plugin) {\n        const { name } = plugin;\n        if (name in this.plugins) throw new Error(`Plugin ${name} already registered`);\n\n        try {\n            logger.info(`Loading Plugin ${name}...`);\n            Settings.make(name).then(settings => {\n                const inst = this.plugins[name] = new plugin(settings);\n                inst.start();\n            });\n        } catch (err) {\n            logger.error(`Failed to load Plugin ${name}\\n`, err);\n        }\n    }\n}\n","import { PluginManager } from \"../api/PluginManager\";\nimport { PluginManifest } from \"../entities/types\";\nimport { Constants, Forms, React, ReactNative, Styles } from \"../metro\";\nimport { getByProps } from \"../metro/index\";\nimport { getAssetId } from \"../utils/getAssetId\";\n\nconst { View, Text, FlatList } = ReactNative;\n\n// Dummy data for now lmao\nconst plugins: PluginManifest[] = [\n    {\n        name: \"Test\",\n        description: \"Test Plugin\",\n        version: \"1.0.0\",\n        authors: [\n            {\n                username: \"Pot of Avarice\",\n                id: \"950095902922661988\"\n            },\n            {\n                username: \"Discord\",\n                id: \"643945264868098049\"\n            }\n        ]\n    }\n];\nfor (let i = 1; i < 5; i++) {\n    const copy = { ...plugins[i - 1] };\n    copy.name += \"a\";\n    copy.description += copy.description;\n    plugins[i] = copy;\n}\n\nconst styles = Styles.createThemedStyleSheet({\n    list: {\n        padding: 10,\n    },\n    card: {\n        borderRadius: 5,\n        margin: 10,\n        backgroundColor: Styles.ThemeColorMap.BACKGROUND_TERTIARY,\n    },\n    header: {\n        flexDirection: \"row\"\n    },\n    bodyCard: {\n        backgroundColor: Styles.ThemeColorMap.BACKGROUND_SECONDARY,\n    },\n    bodyText: {\n        color: Styles.ThemeColorMap.TEXT_NORMAL,\n        padding: 16,\n    },\n    text: {\n        fontFamily: Constants.Fonts.PRIMARY_SEMIBOLD,\n        color: Styles.ThemeColorMap.TEXT_NORMAL,\n        fontSize: 16,\n        lineHeight: 22\n    },\n    link: {\n        marginLeft: 5,\n        fontFamily: Constants.Fonts.PRIMARY_SEMIBOLD,\n        fontSize: 16,\n        lineHeight: 22,\n        color: Styles.ThemeColorMap.TEXT_LINK\n    }\n});\n\nfunction PluginCard({ plugin }: { plugin: PluginManifest; }) {\n    const [isEnabled, setIsEnabled] = React.useState(PluginManager.isEnabled(plugin.name));\n\n    return (\n        <View style={styles.card}>\n            <Forms.FormRow\n                label={(\n                    <View style={styles.header}>\n                        <Text style={styles.text}>\n                            {plugin.name} v{plugin.version} by\n                        </Text>\n                        {plugin.authors.map((a, i) => (\n                            <Text\n                                key={a.id}\n                                style={styles.link}\n                                onPress={() => getByProps(\"showUserProfile\").showUserProfile({ userId: a.id })}\n                            >\n                                {a.username}{i !== plugin.authors.length - 1 && \",\"}\n                            </Text>\n                        ))}\n                    </View>)}\n                trailing={<Forms.FormSwitch value={isEnabled} onValueChange={v => {\n                    if (v)\n                        PluginManager.enable(plugin.name);\n                    else\n                        PluginManager.disable(plugin.name);\n\n                    setIsEnabled(v);\n                }} />}\n            />\n            <View style={styles.bodyCard}>\n                <Forms.FormText style={styles.bodyText}>{plugin.description}</Forms.FormText>\n            </View>\n            <View style={{ flexDirection: \"row\", alignContent: \"space-between\" }}>\n                <Forms.FormRow.Icon source={getAssetId(\"img_account_sync_github_white\")} />\n                <View>\n                    <Forms.FormRow.Icon source={getAssetId(\"\")} />\n                </View>\n            </View>\n        </View>\n    );\n}\n\nexport default function PluginsPage() {\n    return (\n        <FlatList\n            data={plugins}\n            renderItem={({ item }) => <PluginCard\n                key={item.name}\n                plugin={item}\n            />}\n            keyExtractor={plugin => plugin.name}\n            style={styles.list}\n        />\n    );\n}\n","\nexport default function UpdaterPage() {\n    return null;\n}\n","import { sha } from \"aliucord-version\";\nimport { Forms, getModule, i18n, React, ReactNative as RN } from \"../metro\";\nimport { after } from \"../utils/patcher\";\nimport AliucordPage from \"./AliucordPage\";\nimport PluginsPage from \"./PluginsPage\";\nimport UpdaterPage from \"./UpdaterPage\";\n\n\nexport default function patchSettings() {\n    const { FormSection, FormRow } = Forms;\n    const UserSettingsOverviewWrapper = getModule(m => m.default?.name === \"UserSettingsOverviewWrapper\");\n\n    after(getModule(m => m.default?.name === \"getScreens\"), \"default\", (_, res) => {\n        res.ASettings = {\n            title: \"Aliucord\",\n            render: AliucordPage\n        };\n        res.APlugins = {\n            title: \"Plugins\",\n            render: PluginsPage\n        };\n        res.AThemes = {\n            title: \"Themes\",\n            render: () => <RN.Text>Hello World</RN.Text>\n        };\n        res.AUpdater = {\n            title: \"Updater\",\n            render: UpdaterPage\n        };\n\n        // TODO: add APluginWrapper and make it work?\n        // Or should we add all plugins that register settings to this?\n    });\n\n    const unpatch = after(UserSettingsOverviewWrapper, \"default\", (_, res) => {\n        unpatch();\n\n        const { navigation } = res.props;\n\n        // Yeet the funny Upload Logs button\n        after(res.type.prototype, \"renderSupportAndAcknowledgements\", (_, { props }) => {\n            const idx = props.children.findIndex(c => c?.type?.name === \"UploadLogsButton\");\n            if (idx !== -1) {\n                props.children.splice(idx, 1);\n            }\n        });\n\n        after(res.type.prototype, \"render\", (_, { props }) => {\n            const nitroIndex = props.children.findIndex(c => c?.props?.title === i18n.Messages.PREMIUM_SETTINGS);\n\n            const aliucordSection = (\n                <FormSection key=\"AliucordSection\" title={`Aliucord (${sha})`} >\n                    <FormRow\n                        label=\"Aliucord\"\n                        trailing={FormRow.Arrow}\n                        onPress={() =>\n                            navigation.push(\"ASettings\")\n                        }\n                    />\n                    <FormRow\n                        label=\"Plugins\"\n                        trailing={FormRow.Arrow}\n                        onPress={() =>\n                            navigation.push(\"APlugins\")\n                        }\n                    />\n                    <FormRow\n                        label=\"Themes\"\n                        trailing={FormRow.Arrow}\n                        onPress={() =>\n                            navigation.push(\"AThemes\")\n                        }\n                    />\n                    <FormRow\n                        label=\"Updater\"\n                        trailing={FormRow.Arrow}\n                        onPress={() =>\n                            navigation.push(\"AUpdater\")\n                        }\n                    />\n                </FormSection>\n            );\n\n            props.children.splice(nitroIndex, 0, aliucordSection);\n        });\n    });\n}\n","import { Settings } from \"./api/Settings\";\nimport * as CorePlugins from \"./core-plugins/index\";\nimport * as Metro from \"./metro\";\nimport { checkPermissions, requestPermissions } from \"./native\";\nimport patchSettings from \"./ui/patchSettings\";\nimport { startDebugWs } from \"./utils/debug/DebugWS\";\nimport { Logger } from \"./utils/Logger\";\n\nfunction initWithPerms() {\n    // TODO\n}\n\ninterface SettingsSchema {\n    autoUpdateAliucord: boolean;\n    autoUpdatePlugins: boolean;\n    disablePluginsOnCrash: boolean;\n    debugWS: boolean;\n    plugins: Record<string, boolean>;\n}\n\nexport let settings: Settings<SettingsSchema>;\nexport const logger = new Logger(\"AliucordMain\");\nexport async function load() {\n    settings = await Settings.make(\"Aliucord\");\n\n    try {\n        logger.info(\"Loading...\");\n\n        checkPermissions().then(granted => {\n            if (granted) initWithPerms();\n            else {\n                Metro.ReactNative.Alert.alert(\n                    \"Storage Access\",\n                    \"Aliucord needs access to your storage to load plugins and themes.\",\n                    [{\n                        text: \"OK\",\n                        onPress: () => requestPermissions().then(permissionGranted => {\n                            if (permissionGranted) initWithPerms();\n                            else alert(\"Aliucord needs access to your storage to load plugins and themes.\");\n                        })\n                    }]\n                );\n            }\n        });\n\n        CorePlugins.startAll();\n\n        if (settings.get(\"debugWS\", false)) {\n            startDebugWs();\n        }\n\n        // Needs to be hardcoded instead of variable so this code is correcty\n        // detected as unreachable and not included in build.\n        // if (variable) still crashes\n        // eslint-disable-next-line no-constant-condition\n        if (false) {\n            // CAUSES CRASHES\n            // \"lateinit property audioManager has not been initialized\"\n            const { startReactDevTools } = await import(\"./utils/debug/ReactDevTools\");\n            startReactDevTools();\n        }\n\n        patchSettings();\n    } catch (error) {\n        logger.error(error as string | Error);\n    }\n}\n","/**\n * Copyright 2018 Zachary Rauen\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n */\n\ninterface FindInTreeOptions {\n    walkable?: string[];\n    ignore?: string[];\n}\n\nconst { hasOwnProperty } = Object.prototype;\n\n/**\n * Finds a value, subobject, or array from a tree that matches a specific filter. Great for patching render functions.\n * @param {object} tree React tree to look through. Can be a rendered object or an internal instance.\n * @param {callable} searchFilter Filter function to check subobjects against.\n */\nexport function findInReactTree(tree: object, searchFilter: (tree: any) => boolean): any {\n    return findInTree(tree, searchFilter, { walkable: [\"props\", \"children\", \"child\", \"sibling\"] });\n}\n\n/**\n * Finds a value, subobject, or array from a tree that matches a specific filter.\n * @param {object} tree Tree that should be walked\n * @param {callable} searchFilter Filter to check against each object and subobject\n * @param {object} options Additional options to customize the search\n * @param {Array<string>|null} [options.walkable=null] Array of strings to use as keys that are allowed to be walked on. Null value indicates all keys are walkable\n * @param {Array<string>} [options.ignore=[]] Array of strings to use as keys to exclude from the search, most helpful when `walkable = null`.\n */\nexport function findInTree(\n    tree: object,\n    searchFilter: (tree: any) => boolean,\n    { walkable = undefined, ignore = [] }: FindInTreeOptions = {}\n): any {\n    if (typeof searchFilter === \"string\") {\n        if (hasOwnProperty.call(tree, searchFilter)) return tree[searchFilter];\n    } else if (searchFilter(tree)) {\n        return tree;\n    }\n\n    if (typeof tree !== \"object\" || tree == null) return undefined;\n\n    let tempReturn;\n    if (Array.isArray(tree)) {\n        for (const value of tree) {\n            tempReturn = findInTree(value, searchFilter, { walkable, ignore });\n            if (typeof tempReturn != \"undefined\") return tempReturn;\n        }\n    } else {\n        const toWalk = walkable == null ? Object.keys(tree) : walkable;\n        for (const key of toWalk) {\n            if (!hasOwnProperty.call(tree, key) || ignore.includes(key)) continue;\n            tempReturn = findInTree(tree[key as keyof typeof tree], searchFilter, { walkable, ignore });\n            if (typeof tempReturn != \"undefined\") return tempReturn;\n        }\n    }\n    return tempReturn;\n}\n","import * as Aliucord from \"./Aliucord\";\n\nexport * as api from \"./api\";\nexport * as entities from \"./entities\";\nexport * as metro from \"./metro\";\nexport * as native from \"./native\";\nexport * as utils from \"./utils\";\n\nwindow.Aliucord = Aliucord;\nAliucord.load();\n"],"names":["DiscordLogger","getByProps","default","Logger","tag","log","info","warn","error","trace","verbose","messages","_log","console","debug","_a","msg","Error","stack","message","logger","isModuleBlacklisted","id","getModule","filter","options","exports","defaultExport","key","modules","Number","mod","__r","e","module","publicModule","props","length","pop","i","len","getByDisplayName","displayName","m","getByStoreName","storeName","getName","call","getById","getAll","ret","push","getAllByProps","searchByKeyword","keyword","skipConstants","_b","toLowerCase","matches","window","moduleSearchResults","check","obj","name","Object","getOwnPropertyNames","includes","toUpperCase","UserStore","GuildStore","ChannelStore","MessageStore","GuildMemberStore","SelectedChannelStore","ModalActions","MessageActions","FluxDispatcher","FetchUserActions","ContextMenuActions","Clipboard","RestAPI","i18n","Flux","React","ReactNative","Constants","URLOpener","Forms","Styles","__async","__this","__arguments","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","throw","x","done","then","apply","useSettings","settings","update","useState","useMemo","get","defaultValue","set","Settings","snapshot","_persist","nativeModuleProxy","AliucordNative","writeSettings","JSON","stringify","getSettings","data","parse","err","Aliucord","ApplicationCommandInputType","ApplicationCommandInputType2","ApplicationCommandOptionType","ApplicationCommandOptionType2","ApplicationCommandType","ApplicationCommandType2","SnowflakeUtils","_Commands","plugin","command","generateId","applicationId","_aliucordSection","displayDescription","description","inputType","type","__plugin","option","_commands","c","Commands","_idIncrementNum","Date","now","fromTimestamp","patchInfoSym","PatchPriority","PatchPriority2","Patch","priority","defaultFn","instead","after","before","instead2","ctx","args","result","PatchInfo","backup","methodName","_patches","patch2","sort","a","b","idx","indexOf","splice","_this","AliucordPatchFn","_callback","thisObject","patches","PatchContext","_returnEarly","lastRes","lastError","getResultOrThrowError","_result","_error","callOriginal","resolveMethod","method","unpatch","func","patchInfo","removePatch","patchCount","thisObj","original","patch","object","replacement","makeReplacementFunc","defineProperty","enumerable","writable","configurable","defineProperties","getOwnPropertyDescriptors","addPatch","before2","insteadDoNothing","after2","Patcher","_unpatches","fn","Plugin","commands","patcher","constructor","unregisterAll","unpatchAll","CommandHandler","context","discovery","shouldDisplay","res","discoverySections","find","s","discoveryCommands","some","cmd","section","offsets","sectionsOffset","BUILT_IN_COMMANDS","applicationCommandSections","DebugInfo","discordVersion","NativeModules","InfoDictionaryManager","Version","ReleaseChannel","ex","system","Platform","OS","constants","Release","DCDDeviceManager","device","uiMode","reactNativeVersion","ver","major","minor","hermesVersion","HermesInternal","runtimeProps","getRuntimeProperties","makeAsyncEval","code","replace","CoreCommands","ClydeUtils","registerCommand","Messages","COMMAND_SHRUG_MESSAGE_DESCRIPTION","required","STRING","execute","args2","ctx2","sendBotMessage","channel","eval","codeblock","String","sendMessage","content","sha","code2","ZWSP","NoTrack","Analytics","Snitch","AnalyticsActionHandlers","sentry","__SENTRY__","hub","disable","getClient","close","getScope","clear","__sentry_original__","plugins","startAll","pluginClass","start","mkdir","path","recursive","existsFile","deleteFile","readFile","encoding","writeFile","getManifest","listNativeModules","checkPermissions","requestPermissions","ALIUCORD_INVITE","ALIUCORD_GITHUB","ALIUCORD_PATREON","ws","startDebugWs","WebSocket","addEventListener","globalThis","_","message2","level","readyState","OPEN","send","assetMap","AssetRegistry","asset","getAssetByID","getAssetId","assetName","findAssets","names","FormSection","FormSwitch","FormRow","AliucordPage","createElement","Fragment","title","android_noDivider","label","trailing","onValueChange","v","leading","Icon","source","Arrow","onPress","openURL","PluginManager","make","inst","__defProp","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","__spreadValues","prop","View","Text","FlatList","version","authors","username","copy","styles","createThemedStyleSheet","list","padding","card","borderRadius","margin","backgroundColor","ThemeColorMap","BACKGROUND_TERTIARY","header","flexDirection","bodyCard","BACKGROUND_SECONDARY","bodyText","color","TEXT_NORMAL","text","fontFamily","Fonts","PRIMARY_SEMIBOLD","fontSize","lineHeight","link","marginLeft","TEXT_LINK","PluginCard","isEnabled","setIsEnabled","style","map","showUserProfile","userId","enable","FormText","alignContent","PluginsPage","renderItem","item","keyExtractor","UpdaterPage","patchSettings","UserSettingsOverviewWrapper","ASettings","render","APlugins","AThemes","RN","AUpdater","navigation","_2","children","findIndex","nitroIndex","PREMIUM_SETTINGS","aliucordSection","initWithPerms","load","granted","Metro","Alert","alert","permissionGranted","CorePlugins","findInReactTree","tree","searchFilter","findInTree","walkable","ignore","tempReturn","Array","isArray","toWalk","keys"],"mappings":"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"}